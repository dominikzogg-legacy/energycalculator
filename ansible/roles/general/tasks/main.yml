---
- name: APT | Install requirements
  apt: name={{ item }} state=present
  with_items:
    - aptitude
    - apt-transport-https

- name: APT | update sources.list
  copy:
    src=sources.list
    dest=/etc/apt/sources.list

- name: APT | Update apt cache
  apt: update_cache=yes

- name: APT | Upgrade
  apt: upgrade=full

- name: Locale | install
  apt: name={{ item }} state=present
  with_items:
    - locales-all

- name: Locale | Generate de_CH.UTF-8
  command: /usr/sbin/locale-gen de_CH.UTF-8

- name: Locale | Set locale to de_CH.UTF-8
  command: /usr/sbin/update-locale LANG=de_CH.UTF-8 LC_ALL=de_CH.UTF-8

- name: Timezone | Set /etc/localtime to Europe/Zurich
  command: /bin/cp /usr/share/zoneinfo/Europe/Zurich /etc/localtime

- name: Timezone | Update tzdata
  command: dpkg-reconfigure --frontend noninteractive tzdata

- name: Tools | install
  apt: name={{ item }} state=present
  with_items:
    - vim
    - htop
    - git